{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder\\\\orbit-master\\\\orbit-app\\\\src\\\\pages\\\\Inventory.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport PageTitle from '../components/common/PageTitle';\nimport { FetchContext } from '../context/FetchContext';\nimport { formatCurrency } from './../util';\nimport InventoryItemForm from './../components/InventoryItemForm';\nimport DangerButton from './../components/common/DangerButton';\nimport FormError from './../components/FormError';\nimport FormSuccess from './../components/FormSuccess';\n\nconst InventoryItemContainer = ({\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"bg-white rounded shadow-md mb-4 p-4\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 3\n  }\n}, children);\n\nconst InventoryItem = ({\n  item,\n  onDelete\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"rounded w-32 h-full\",\n    src: item.image,\n    alt: \"inventory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-between w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col ml-4 justify-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"font-bold text-xl text-gray-900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-sm text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, item.itemNumber)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-700 text-xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, formatCurrency(item.unitPrice)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"self-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DangerButton, {\n    text: \"Delete\",\n    onClick: () => onDelete(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }))));\n};\n\nconst NewInventoryItem = ({\n  onSubmit\n}) => {\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"bg-white p-4 shadow-md rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"font-bold mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"New Inventory Item\"), /*#__PURE__*/React.createElement(InventoryItemForm, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst Inventory = () => {\n  const fetchContext = useContext(FetchContext);\n  const [inventory, setInventory] = useState([]);\n  const [successMessage, setSuccessMessage] = useState();\n  const [errorMessage, setErrorMessage] = useState();\n  useEffect(() => {\n    const getInventory = async () => {\n      try {\n        const {\n          data\n        } = await fetchContext.authAxios.get('inventory');\n        setInventory(data);\n      } catch (err) {\n        console.log('the err', err);\n      }\n    };\n\n    getInventory();\n  }, [fetchContext]);\n\n  const onSubmit = async (values, resetForm) => {\n    try {\n      const {\n        data\n      } = await fetchContext.authAxios.post('inventory', values);\n      setInventory([...inventory, data.inventoryItem]);\n      resetForm();\n      setSuccessMessage(data.message);\n      setErrorMessage(null);\n    } catch (err) {\n      const {\n        data\n      } = err.response;\n      setSuccessMessage(null);\n      setErrorMessage(data.message);\n    }\n  };\n\n  const onDelete = async item => {\n    try {\n      if (window.confirm('Are you sure you want to delete this item?')) {\n        const {\n          data\n        } = await fetchContext.authAxios.delete(`inventory/${item._id}`);\n        setInventory(inventory.filter(item => item._id !== data.deletedItem._id));\n      }\n    } catch (err) {\n      const {\n        data\n      } = err.response;\n      setErrorMessage(data.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageTitle, {\n    title: \"Inventory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }), successMessage && /*#__PURE__*/React.createElement(FormSuccess, {\n    text: successMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }), errorMessage && /*#__PURE__*/React.createElement(FormError, {\n    text: errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 24\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NewInventoryItem, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  })), inventory && inventory.length ? inventory.map(item => /*#__PURE__*/React.createElement(InventoryItemContainer, {\n    key: item._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InventoryItem, {\n    item: item,\n    onDelete: onDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }))) : 'No Inventory Items');\n};\n\nexport default Inventory;","map":{"version":3,"sources":["D:/New folder/orbit-master/orbit-app/src/pages/Inventory.js"],"names":["React","useContext","useEffect","useState","PageTitle","FetchContext","formatCurrency","InventoryItemForm","DangerButton","FormError","FormSuccess","InventoryItemContainer","children","InventoryItem","item","onDelete","image","name","itemNumber","unitPrice","NewInventoryItem","onSubmit","Inventory","fetchContext","inventory","setInventory","successMessage","setSuccessMessage","errorMessage","setErrorMessage","getInventory","data","authAxios","get","err","console","log","values","resetForm","post","inventoryItem","message","response","window","confirm","delete","_id","filter","deletedItem","length","map"],"mappings":"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","sourcesContent":["import React, {\n  useContext,\n  useEffect,\n  useState\n} from 'react';\nimport PageTitle from '../components/common/PageTitle';\nimport { FetchContext } from '../context/FetchContext';\nimport { formatCurrency } from './../util';\nimport InventoryItemForm from './../components/InventoryItemForm';\nimport DangerButton from './../components/common/DangerButton';\nimport FormError from './../components/FormError';\nimport FormSuccess from './../components/FormSuccess';\n\nconst InventoryItemContainer = ({ children }) => (\n  <div className=\"bg-white rounded shadow-md mb-4 p-4\">\n    {children}\n  </div>\n);\n\nconst InventoryItem = ({ item, onDelete }) => {\n  return (\n    <div className=\"flex\">\n      <img\n        className=\"rounded w-32 h-full\"\n        src={item.image}\n        alt=\"inventory\"\n      />\n      <div className=\"flex justify-between w-full\">\n        <div className=\"flex flex-col ml-4 justify-between\">\n          <div>\n            <p className=\"font-bold text-xl text-gray-900\">\n              {item.name}\n            </p>\n            <p className=\"text-sm text-gray-600\">\n              {item.itemNumber}\n            </p>\n          </div>\n          <div>\n            <p className=\"text-gray-700 text-xl\">\n              {formatCurrency(item.unitPrice)}\n            </p>\n          </div>\n        </div>\n        <div className=\"self-end\">\n          <DangerButton\n            text=\"Delete\"\n            onClick={() => onDelete(item)}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst NewInventoryItem = ({ onSubmit }) => {\n  return (\n    <section className=\"bg-white p-4 shadow-md rounded-md\">\n      <p className=\"font-bold mb-2\">New Inventory Item</p>\n      <InventoryItemForm onSubmit={onSubmit} />\n    </section>\n  );\n};\n\nconst Inventory = () => {\n  const fetchContext = useContext(FetchContext);\n  const [inventory, setInventory] = useState([]);\n  const [successMessage, setSuccessMessage] = useState();\n  const [errorMessage, setErrorMessage] = useState();\n\n  useEffect(() => {\n    const getInventory = async () => {\n      try {\n        const { data } = await fetchContext.authAxios.get(\n          'inventory'\n        );\n        setInventory(data);\n      } catch (err) {\n        console.log('the err', err);\n      }\n    };\n\n    getInventory();\n  }, [fetchContext]);\n\n  const onSubmit = async (values, resetForm) => {\n    try {\n      const { data } = await fetchContext.authAxios.post(\n        'inventory',\n        values\n      );\n      setInventory([...inventory, data.inventoryItem]);\n      resetForm();\n      setSuccessMessage(data.message);\n      setErrorMessage(null);\n    } catch (err) {\n      const { data } = err.response;\n      setSuccessMessage(null);\n      setErrorMessage(data.message);\n    }\n  };\n\n  const onDelete = async item => {\n    try {\n      if (\n        window.confirm(\n          'Are you sure you want to delete this item?'\n        )\n      ) {\n        const {\n          data\n        } = await fetchContext.authAxios.delete(\n          `inventory/${item._id}`\n        );\n        setInventory(\n          inventory.filter(\n            item => item._id !== data.deletedItem._id\n          )\n        );\n      }\n    } catch (err) {\n      const { data } = err.response;\n      setErrorMessage(data.message);\n    }\n  };\n\n  return (\n    <>\n      <PageTitle title=\"Inventory\" />\n      {successMessage && (\n        <FormSuccess text={successMessage} />\n      )}\n      {errorMessage && <FormError text={errorMessage} />}\n      <div className=\"mb-4\">\n        <NewInventoryItem onSubmit={onSubmit} />\n      </div>\n      {inventory && inventory.length\n        ? inventory.map(item => (\n            <InventoryItemContainer key={item._id}>\n              <InventoryItem\n                item={item}\n                onDelete={onDelete}\n              />\n            </InventoryItemContainer>\n          ))\n        : 'No Inventory Items'}\n    </>\n  );\n};\n\nexport default Inventory;\n"]},"metadata":{},"sourceType":"module"}