{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder\\\\orbit-master\\\\orbit-app\\\\src\\\\pages\\\\Settings.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport PageTitle from '../components/common/PageTitle';\nimport Card from './../components/common/Card';\nimport GradientButton from '../components/common/GradientButton';\nimport { Formik, Form, Field } from 'formik';\nimport { FetchContext } from './../context/FetchContext';\nimport FormError from './../components/FormError';\nimport FormSuccess from './../components/FormSuccess';\n\nconst Settings = () => {\n  const fetchContext = useContext(FetchContext);\n  const [bio, setBio] = useState();\n  const [successMessage, setSuccessMessage] = useState();\n  const [errorMessage, setErrorMessage] = useState();\n  useEffect(() => {\n    const getBio = async () => {\n      try {\n        const {\n          data\n        } = await fetchContext.authAxios.get('bio');\n        setBio(data.bio);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getBio();\n  }, [fetchContext.authAxios]);\n\n  const saveBio = async bio => {\n    try {\n      const {\n        data\n      } = await fetchContext.authAxios.patch('bio', bio);\n      setErrorMessage(null);\n      setSuccessMessage(data.message);\n    } catch (err) {\n      const {\n        data\n      } = err.response;\n      setSuccessMessage(null);\n      setErrorMessage(data.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageTitle, {\n    title: \"Settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"font-bold mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, \"Fill Out Your Bio\"), successMessage && /*#__PURE__*/React.createElement(FormSuccess, {\n    text: successMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }), errorMessage && /*#__PURE__*/React.createElement(FormError, {\n    text: errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 22\n    }\n  }), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      bio\n    },\n    onSubmit: values => saveBio(values),\n    enableReinitialize: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, () => /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    className: \"border border-gray-300 rounded p-1 w-full h-56 mb-2\",\n    component: \"textarea\",\n    name: \"bio\",\n    placeholder: \"Your bio here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(GradientButton, {\n    text: \"Save\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 8\n    }\n  })))));\n};\n\nexport default Settings;","map":{"version":3,"sources":["D:/New folder/orbit-master/orbit-app/src/pages/Settings.js"],"names":["React","useContext","useState","useEffect","PageTitle","Card","GradientButton","Formik","Form","Field","FetchContext","FormError","FormSuccess","Settings","fetchContext","bio","setBio","successMessage","setSuccessMessage","errorMessage","setErrorMessage","getBio","data","authAxios","get","err","console","log","saveBio","patch","message","response","values"],"mappings":"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","sourcesContent":["import React, {\n\tuseContext,\n\tuseState,\n\tuseEffect\n} from 'react';\nimport PageTitle from '../components/common/PageTitle';\nimport Card from './../components/common/Card';\nimport GradientButton from '../components/common/GradientButton';\nimport { Formik, Form, Field } from 'formik';\nimport { FetchContext } from './../context/FetchContext';\nimport FormError from './../components/FormError';\nimport FormSuccess from './../components/FormSuccess';\n\nconst Settings = () => {\n\tconst fetchContext = useContext(FetchContext);\n\tconst [bio, setBio] = useState();\n\tconst [successMessage, setSuccessMessage] = useState();\n\tconst [errorMessage, setErrorMessage] = useState();\n\n\tuseEffect(() => {\n\t\tconst getBio = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await fetchContext.authAxios.get(\n\t\t\t\t\t'bio'\n\t\t\t\t);\n\t\t\t\tsetBio(data.bio);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t};\n\t\tgetBio();\n\t}, [fetchContext.authAxios]);\n\n\tconst saveBio = async bio => {\n\t\ttry {\n\t\t\tconst { data } = await fetchContext.authAxios.patch(\n\t\t\t\t'bio',\n\t\t\t\tbio\n\t\t\t);\n\t\t\tsetErrorMessage(null);\n\t\t\tsetSuccessMessage(data.message);\n\t\t} catch (err) {\n\t\t\tconst { data } = err.response;\n\t\t\tsetSuccessMessage(null);\n\t\t\tsetErrorMessage(data.message);\n\t\t}\n\t};\n\treturn (\n\t\t<>\n\t\t\t<PageTitle title=\"Settings\" />\n\t\t\t<Card>\n\t\t\t\t<h2 className=\"font-bold mb-2\">\n\t\t\t\t\tFill Out Your Bio\n\t\t\t\t</h2>\n\t\t\t\t{successMessage && (\n\t\t\t\t\t<FormSuccess text={successMessage} />\n\t\t\t\t)}\n\t\t\t\t{errorMessage && <FormError text={errorMessage} />}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\tbio\n\t\t\t\t\t}}\n\t\t\t\t\tonSubmit={values => saveBio(values)}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t>\n\t\t\t\t\t{() => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded p-1 w-full h-56 mb-2\"\n\t\t\t\t\t\t\t\tcomponent=\"textarea\"\n\t\t\t\t\t\t\t\tname=\"bio\"\n\t\t\t\t\t\t\t\tplaceholder=\"Your bio here\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<GradientButton text=\"Save\" type=\"submit\" />\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Card>\n\t\t</>\n\t);\n};\n\nexport default Settings;\n"]},"metadata":{},"sourceType":"module"}