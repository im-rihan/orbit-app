{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder\\\\orbit-master\\\\orbit-app\\\\src\\\\pages\\\\Login.js\";\nimport React, { useState, useContext } from 'react';\nimport { Form, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport Card from '../components/common/Card';\nimport Hyperlink from './../components/common/Hyperlink';\nimport Label from './../components/common/Label';\nimport FormInput from './../components/FormInput';\nimport FormSuccess from './../components/FormSuccess';\nimport FormError from './../components/FormError';\nimport GradientBar from './../components/common/GradientBar';\nimport { AuthContext } from '../context/AuthContext';\nimport { publicFetch } from './../util/fetch';\nimport { Redirect } from 'react-router-dom';\nimport GradientButton from '../components/common/GradientButton';\nimport logo from './../images/logo.png';\nconst LoginSchema = Yup.object().shape({\n  email: Yup.string().required('Email is required'),\n  password: Yup.string().required('Password is required')\n});\n\nconst Login = () => {\n  const authContext = useContext(AuthContext);\n  const [loginSuccess, setLoginSuccess] = useState();\n  const [loginError, setLoginError] = useState();\n  const [redirectOnLogin, setRedirectOnLogin] = useState(false);\n  const [loginLoading, setLoginLoading] = useState(false);\n\n  const submitCredentials = async credentials => {\n    try {\n      setLoginLoading(true);\n      const {\n        data\n      } = await publicFetch.post(`authenticate`, credentials);\n      authContext.setAuthState(data);\n      setLoginSuccess(data.message);\n      setLoginError(null);\n      setTimeout(() => {\n        setRedirectOnLogin(true);\n      }, 700);\n    } catch (error) {\n      setLoginLoading(false);\n      const {\n        data\n      } = error.response;\n      setLoginError(data.message);\n      setLoginSuccess(null);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, redirectOnLogin && /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"w-full sm:w-1/2 h-screen m-auto p-8 sm:pt-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(GradientBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-md w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-32 m-auto mb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"mb-2 text-center text-3xl leading-9 font-extrabold text-gray-900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Log in to your account\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-600 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Don't have an account?\", ' ', /*#__PURE__*/React.createElement(Hyperlink, {\n    to: \"signup\",\n    text: \"Sign up now\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    onSubmit: values => submitCredentials(values),\n    validationSchema: LoginSchema,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, () => /*#__PURE__*/React.createElement(Form, {\n    className: \"mt-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, loginSuccess && /*#__PURE__*/React.createElement(FormSuccess, {\n    text: loginSuccess,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 23\n    }\n  }), loginError && /*#__PURE__*/React.createElement(FormError, {\n    text: loginError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(FormInput, {\n    ariaLabel: \"Email\",\n    name: \"email\",\n    type: \"text\",\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(FormInput, {\n    ariaLabel: \"Password\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-6 flex justify-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-sm leading-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Hyperlink, {\n    to: \"forgot-password\",\n    text: \"Forgot your password?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(GradientButton, {\n    type: \"submit\",\n    text: \"Log In\",\n    loading: loginLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 23\n    }\n  })))))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["D:/New folder/orbit-master/orbit-app/src/pages/Login.js"],"names":["React","useState","useContext","Form","Formik","Yup","Card","Hyperlink","Label","FormInput","FormSuccess","FormError","GradientBar","AuthContext","publicFetch","Redirect","GradientButton","logo","LoginSchema","object","shape","email","string","required","password","Login","authContext","loginSuccess","setLoginSuccess","loginError","setLoginError","redirectOnLogin","setRedirectOnLogin","loginLoading","setLoginLoading","submitCredentials","credentials","data","post","setAuthState","message","setTimeout","error","response","values"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { Form, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport Card from '../components/common/Card';\nimport Hyperlink from './../components/common/Hyperlink';\nimport Label from './../components/common/Label';\nimport FormInput from './../components/FormInput';\nimport FormSuccess from './../components/FormSuccess';\nimport FormError from './../components/FormError';\nimport GradientBar from './../components/common/GradientBar';\nimport { AuthContext } from '../context/AuthContext';\nimport { publicFetch } from './../util/fetch';\nimport { Redirect } from 'react-router-dom';\nimport GradientButton from '../components/common/GradientButton';\nimport logo from './../images/logo.png';\n\nconst LoginSchema = Yup.object().shape({\n  email: Yup.string().required('Email is required'),\n  password: Yup.string().required('Password is required')\n});\n\nconst Login = () => {\n  const authContext = useContext(AuthContext);\n  const [loginSuccess, setLoginSuccess] = useState();\n  const [loginError, setLoginError] = useState();\n  const [redirectOnLogin, setRedirectOnLogin] = useState(\n    false\n  );\n  const [loginLoading, setLoginLoading] = useState(false);\n\n  const submitCredentials = async credentials => {\n    try {\n      setLoginLoading(true);\n      const { data } = await publicFetch.post(\n        `authenticate`,\n        credentials\n      );\n\n      authContext.setAuthState(data);\n      setLoginSuccess(data.message);\n      setLoginError(null);\n\n      setTimeout(() => {\n        setRedirectOnLogin(true);\n      }, 700);\n    } catch (error) {\n      setLoginLoading(false);\n      const { data } = error.response;\n      setLoginError(data.message);\n      setLoginSuccess(null);\n    }\n  };\n\n  return (\n    <>\n      {redirectOnLogin && <Redirect to=\"/dashboard\" />}\n      <section className=\"w-full sm:w-1/2 h-screen m-auto p-8 sm:pt-10\">\n        <GradientBar />\n        <Card>\n          <div className=\"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n            <div className=\"max-w-md w-full\">\n              <div>\n                <div className=\"w-32 m-auto mb-6\">\n                  <img src={logo} alt=\"Logo\" />\n                </div>\n                <h2 className=\"mb-2 text-center text-3xl leading-9 font-extrabold text-gray-900\">\n                  Log in to your account\n                </h2>\n                <p className=\"text-gray-600 text-center\">\n                  Don't have an account?{' '}\n                  <Hyperlink\n                    to=\"signup\"\n                    text=\"Sign up now\"\n                  />\n                </p>\n              </div>\n\n              <Formik\n                initialValues={{\n                  email: '',\n                  password: ''\n                }}\n                onSubmit={values =>\n                  submitCredentials(values)\n                }\n                validationSchema={LoginSchema}\n              >\n                {() => (\n                  <Form className=\"mt-8\">\n                    {loginSuccess && (\n                      <FormSuccess text={loginSuccess} />\n                    )}\n                    {loginError && (\n                      <FormError text={loginError} />\n                    )}\n                    <div>\n                      <div className=\"mb-2\">\n                        <div className=\"mb-1\">\n                          <Label text=\"Email\" />\n                        </div>\n                        <FormInput\n                          ariaLabel=\"Email\"\n                          name=\"email\"\n                          type=\"text\"\n                          placeholder=\"Email\"\n                        />\n                      </div>\n                      <div>\n                        <div className=\"mb-1\">\n                          <Label text=\"Password\" />\n                        </div>\n                        <FormInput\n                          ariaLabel=\"Password\"\n                          name=\"password\"\n                          type=\"password\"\n                          placeholder=\"Password\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"mt-6 flex justify-start\">\n                      <div className=\"text-sm leading-5\">\n                        <Hyperlink\n                          to=\"forgot-password\"\n                          text=\"Forgot your password?\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"mt-6\">\n                      <GradientButton\n                        type=\"submit\"\n                        text=\"Log In\"\n                        loading={loginLoading}\n                      />\n                    </div>\n                  </Form>\n                )}\n              </Formik>\n            </div>\n          </div>\n        </Card>\n      </section>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}