{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder\\\\orbit-master\\\\orbit-app\\\\src\\\\pages\\\\Inventory.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport PageTitle from '../components/common/PageTitle';\nimport { FetchContext } from '../context/FetchContext';\nimport { formatCurrency } from './../util';\nimport InventoryItemForm from './../components/InventoryItemForm';\nimport DangerButton from './../components/common/DangerButton';\nimport FormError from './../components/FormError';\nimport FormSuccess from './../components/FormSuccess';\n\nconst InventoryItemContainer = ({\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"bg-white rounded shadow-md mb-4 p-4\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 2\n  }\n}, children);\n\nconst InventoryItem = ({\n  item,\n  onDelete\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"rounded w-32 h-full\",\n    src: item.image,\n    alt: \"inventory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-between w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col ml-4 justify-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"font-bold text-xl text-gray-900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-sm text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, item.itemNumber)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-700 text-xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, formatCurrency(item.unitPrice)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"self-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DangerButton, {\n    text: \"Delete\",\n    onClick: () => onDelete(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 6\n    }\n  }))));\n};\n\nconst NewInventoryItem = ({\n  onSubmit\n}) => {\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"bg-white p-4 shadow-md rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"font-bold mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }\n  }, \"New Inventory Item\"), /*#__PURE__*/React.createElement(InventoryItemForm, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }\n  }));\n};\n\nconst Inventory = () => {\n  const fetchContext = useContext(FetchContext);\n  const [inventory, setInventory] = useState([]);\n  const [successMessage, setSuccessMessage] = useState();\n  const [errorMessage, setErrorMessage] = useState();\n  useEffect(() => {\n    const getInventory = async () => {\n      try {\n        const {\n          data\n        } = await fetchContext.authAxios.get('inventory');\n        setInventory(data);\n      } catch (err) {\n        console.log('the err', err);\n      }\n    };\n\n    getInventory();\n  }, [fetchContext]);\n\n  const onSubmit = async (values, resetForm) => {\n    try {\n      const {\n        data\n      } = await fetchContext.authAxios.post('inventory', values);\n      setInventory([...inventory, data.inventoryItem]);\n      resetForm();\n      setSuccessMessage(data.message);\n      setErrorMessage(null);\n    } catch (err) {\n      const {\n        data\n      } = err.response;\n      setSuccessMessage(null);\n      setErrorMessage(data.message);\n    }\n  };\n\n  const onDelete = async item => {\n    try {\n      if (window.confirm('Are you sure you want to delete this item?')) {\n        const {\n          data\n        } = await fetchContext.authAxios.delete(`inventory/${item._id}`);\n        setInventory(inventory.filter(item => item._id !== data.deletedItem._id));\n      }\n    } catch (err) {\n      const {\n        data\n      } = err.response;\n      setErrorMessage(data.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageTitle, {\n    title: \"Inventory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 4\n    }\n  }), successMessage && /*#__PURE__*/React.createElement(FormSuccess, {\n    text: successMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }), errorMessage && /*#__PURE__*/React.createElement(FormError, {\n    text: errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(NewInventoryItem, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  })), inventory && inventory.length ? inventory.map(item => /*#__PURE__*/React.createElement(InventoryItemContainer, {\n    key: item._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InventoryItem, {\n    item: item,\n    onDelete: onDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 8\n    }\n  }))) : 'No Inventory Items');\n};\n\nexport default Inventory;","map":{"version":3,"sources":["D:/New folder/orbit-master/orbit-app/src/pages/Inventory.js"],"names":["React","useContext","useEffect","useState","PageTitle","FetchContext","formatCurrency","InventoryItemForm","DangerButton","FormError","FormSuccess","InventoryItemContainer","children","InventoryItem","item","onDelete","image","name","itemNumber","unitPrice","NewInventoryItem","onSubmit","Inventory","fetchContext","inventory","setInventory","successMessage","setSuccessMessage","errorMessage","setErrorMessage","getInventory","data","authAxios","get","err","console","log","values","resetForm","post","inventoryItem","message","response","window","confirm","delete","_id","filter","deletedItem","length","map"],"mappings":"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","sourcesContent":["import React, {\n\tuseContext,\n\tuseEffect,\n\tuseState\n} from 'react';\nimport PageTitle from '../components/common/PageTitle';\nimport { FetchContext } from '../context/FetchContext';\nimport { formatCurrency } from './../util';\nimport InventoryItemForm from './../components/InventoryItemForm';\nimport DangerButton from './../components/common/DangerButton';\nimport FormError from './../components/FormError';\nimport FormSuccess from './../components/FormSuccess';\n\nconst InventoryItemContainer = ({ children }) => (\n\t<div className=\"bg-white rounded shadow-md mb-4 p-4\">\n\t\t{children}\n\t</div>\n);\n\nconst InventoryItem = ({ item, onDelete }) => {\n\treturn (\n\t\t<div className=\"flex\">\n\t\t\t<img\n\t\t\t\tclassName=\"rounded w-32 h-full\"\n\t\t\t\tsrc={item.image}\n\t\t\t\talt=\"inventory\"\n\t\t\t/>\n\t\t\t<div className=\"flex justify-between w-full\">\n\t\t\t\t<div className=\"flex flex-col ml-4 justify-between\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p className=\"font-bold text-xl text-gray-900\">\n\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p className=\"text-sm text-gray-600\">\n\t\t\t\t\t\t\t{item.itemNumber}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p className=\"text-gray-700 text-xl\">\n\t\t\t\t\t\t\t{formatCurrency(item.unitPrice)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"self-end\">\n\t\t\t\t\t<DangerButton\n\t\t\t\t\t\ttext=\"Delete\"\n\t\t\t\t\t\tonClick={() => onDelete(item)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst NewInventoryItem = ({ onSubmit }) => {\n\treturn (\n\t\t<section className=\"bg-white p-4 shadow-md rounded-md\">\n\t\t\t<p className=\"font-bold mb-2\">New Inventory Item</p>\n\t\t\t<InventoryItemForm onSubmit={onSubmit} />\n\t\t</section>\n\t);\n};\n\nconst Inventory = () => {\n\tconst fetchContext = useContext(FetchContext);\n\tconst [inventory, setInventory] = useState([]);\n\tconst [successMessage, setSuccessMessage] = useState();\n\tconst [errorMessage, setErrorMessage] = useState();\n\n\tuseEffect(() => {\n\t\tconst getInventory = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await fetchContext.authAxios.get(\n\t\t\t\t\t'inventory'\n\t\t\t\t);\n\t\t\t\tsetInventory(data);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log('the err', err);\n\t\t\t}\n\t\t};\n\n\t\tgetInventory();\n\t}, [fetchContext]);\n\n\tconst onSubmit = async (values, resetForm) => {\n\t\ttry {\n\t\t\tconst { data } = await fetchContext.authAxios.post(\n\t\t\t\t'inventory',\n\t\t\t\tvalues\n\t\t\t);\n\t\t\tsetInventory([...inventory, data.inventoryItem]);\n\t\t\tresetForm();\n\t\t\tsetSuccessMessage(data.message);\n\t\t\tsetErrorMessage(null);\n\t\t} catch (err) {\n\t\t\tconst { data } = err.response;\n\t\t\tsetSuccessMessage(null);\n\t\t\tsetErrorMessage(data.message);\n\t\t}\n\t};\n\n\tconst onDelete = async item => {\n\t\ttry {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t'Are you sure you want to delete this item?'\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tconst {\n\t\t\t\t\tdata\n\t\t\t\t} = await fetchContext.authAxios.delete(\n\t\t\t\t\t`inventory/${item._id}`\n\t\t\t\t);\n\t\t\t\tsetInventory(\n\t\t\t\t\tinventory.filter(\n\t\t\t\t\t\titem => item._id !== data.deletedItem._id\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconst { data } = err.response;\n\t\t\tsetErrorMessage(data.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<PageTitle title=\"Inventory\" />\n\t\t\t{successMessage && (\n\t\t\t\t<FormSuccess text={successMessage} />\n\t\t\t)}\n\t\t\t{errorMessage && <FormError text={errorMessage} />}\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<NewInventoryItem onSubmit={onSubmit} />\n\t\t\t</div>\n\t\t\t{inventory && inventory.length\n\t\t\t\t? inventory.map(item => (\n\t\t\t\t\t\t<InventoryItemContainer key={item._id}>\n\t\t\t\t\t\t\t<InventoryItem\n\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\tonDelete={onDelete}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</InventoryItemContainer>\n\t\t\t\t\t))\n\t\t\t\t: 'No Inventory Items'}\n\t\t</>\n\t);\n};\n\nexport default Inventory;\n"]},"metadata":{},"sourceType":"module"}