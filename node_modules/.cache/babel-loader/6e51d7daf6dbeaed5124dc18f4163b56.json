{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder\\\\orbit-master\\\\orbit-app\\\\src\\\\pages\\\\Signup.js\";\nimport React, { useContext, useState } from 'react';\nimport { Form, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport Card from '../components/common/Card';\nimport GradientButton from '../components/common/GradientButton';\nimport Hyperlink from '../components/common/Hyperlink';\nimport Label from '../components/common/Label';\nimport FormInput from '../components/FormInput';\nimport { AuthContext } from '../context/AuthContext';\nimport GradientBar from './../components/common/GradientBar';\nimport FormError from './../components/FormError';\nimport FormSuccess from './../components/FormSuccess';\nimport { publicFetch } from './../util/fetch';\nimport logo from './../images/logo.png';\nimport { Redirect } from 'react-router-dom';\nconst SignupSchema = Yup.object().shape({\n  firstName: Yup.string().required('First name is required'),\n  lastName: Yup.string().required('Last name is required'),\n  email: Yup.string().email('Invalid email').required('Email is required'),\n  password: Yup.string().required('Password is required')\n});\n\nconst Signup = () => {\n  const authContext = useContext(AuthContext);\n  const [signupSuccess, setSignupSuccess] = useState();\n  const [signupError, setSignupError] = useState();\n  const [redirectOnLogin, setRedirectOnLogin] = useState(false);\n  const [loginLoading, setLoginLoading] = useState(false);\n\n  const submitCredentials = async credentials => {\n    try {\n      setLoginLoading(true);\n      const {\n        data\n      } = await publicFetch.post(`signup`, credentials);\n      authContext.setAuthState(data);\n      setSignupSuccess(data.message);\n      setSignupError('');\n      setTimeout(() => {\n        setRedirectOnLogin(true);\n      }, 700);\n    } catch (error) {\n      setLoginLoading(false);\n      const {\n        data\n      } = error.response;\n      setSignupError(data.message);\n      setSignupSuccess('');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, redirectOnLogin && /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"w-1/2 h-screen m-auto p-8 sm:pt-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(GradientBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-md w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-32 m-auto mb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"mb-2 text-center text-3xl leading-9 font-extrabold text-gray-900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Sign up for an account\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-600 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Already have an account?\", ' ', /*#__PURE__*/React.createElement(Hyperlink, {\n    to: \"login\",\n    text: \"Log in now\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: ''\n    },\n    onSubmit: values => submitCredentials(values),\n    validationSchema: SignupSchema,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, () => /*#__PURE__*/React.createElement(Form, {\n    className: \"mt-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  }, signupSuccess && /*#__PURE__*/React.createElement(FormSuccess, {\n    text: signupSuccess,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 23\n    }\n  }), signupError && /*#__PURE__*/React.createElement(FormError, {\n    text: signupError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"remember\",\n    value: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2 mr-2 w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"First Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(FormInput, {\n    ariaLabel: \"First Name\",\n    name: \"firstName\",\n    type: \"text\",\n    placeholder: \"First Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2 ml-2 w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"Last Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(FormInput, {\n    ariaLabel: \"Last Name\",\n    name: \"lastName\",\n    type: \"text\",\n    placeholder: \"Last Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"Email address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(FormInput, {\n    ariaLabel: \"Email address\",\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"Email address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    text: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(FormInput, {\n    ariaLabel: \"Password\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(GradientButton, {\n    type: \"submit\",\n    text: \"Sign Up\",\n    loading: loginLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 23\n    }\n  })))))))));\n};\n\nexport default Signup;","map":{"version":3,"sources":["D:/New folder/orbit-master/orbit-app/src/pages/Signup.js"],"names":["React","useContext","useState","Form","Formik","Yup","Card","GradientButton","Hyperlink","Label","FormInput","AuthContext","GradientBar","FormError","FormSuccess","publicFetch","logo","Redirect","SignupSchema","object","shape","firstName","string","required","lastName","email","password","Signup","authContext","signupSuccess","setSignupSuccess","signupError","setSignupError","redirectOnLogin","setRedirectOnLogin","loginLoading","setLoginLoading","submitCredentials","credentials","data","post","setAuthState","message","setTimeout","error","response","values"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Form, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport Card from '../components/common/Card';\nimport GradientButton from '../components/common/GradientButton';\nimport Hyperlink from '../components/common/Hyperlink';\nimport Label from '../components/common/Label';\nimport FormInput from '../components/FormInput';\nimport { AuthContext } from '../context/AuthContext';\nimport GradientBar from './../components/common/GradientBar';\nimport FormError from './../components/FormError';\nimport FormSuccess from './../components/FormSuccess';\nimport { publicFetch } from './../util/fetch';\nimport logo from './../images/logo.png';\nimport { Redirect } from 'react-router-dom';\n\nconst SignupSchema = Yup.object().shape({\n  firstName: Yup.string().required(\n    'First name is required'\n  ),\n  lastName: Yup.string().required('Last name is required'),\n  email: Yup.string()\n    .email('Invalid email')\n    .required('Email is required'),\n  password: Yup.string().required('Password is required')\n});\n\nconst Signup = () => {\n  const authContext = useContext(AuthContext);\n  const [signupSuccess, setSignupSuccess] = useState();\n  const [signupError, setSignupError] = useState();\n  const [redirectOnLogin, setRedirectOnLogin] = useState(\n    false\n  );\n  const [loginLoading, setLoginLoading] = useState(false);\n\n  const submitCredentials = async credentials => {\n    try {\n      setLoginLoading(true);\n      const { data } = await publicFetch.post(\n        `signup`,\n        credentials\n      );\n\n      authContext.setAuthState(data);\n      setSignupSuccess(data.message);\n      setSignupError('');\n\n      setTimeout(() => {\n        setRedirectOnLogin(true);\n      }, 700);\n    } catch (error) {\n      setLoginLoading(false);\n      const { data } = error.response;\n      setSignupError(data.message);\n      setSignupSuccess('');\n    }\n  };\n\n  return (\n    <>\n      {redirectOnLogin && <Redirect to=\"/dashboard\" />}\n      <section className=\"w-1/2 h-screen m-auto p-8 sm:pt-10\">\n        <GradientBar />\n        <Card>\n          <div className=\"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n            <div className=\"max-w-md w-full\">\n              <div>\n                <div className=\"w-32 m-auto mb-6\">\n                  <img src={logo} alt=\"Logo\" />\n                </div>\n                <h2 className=\"mb-2 text-center text-3xl leading-9 font-extrabold text-gray-900\">\n                  Sign up for an account\n                </h2>\n                <p className=\"text-gray-600 text-center\">\n                  Already have an account?{' '}\n                  <Hyperlink to=\"login\" text=\"Log in now\" />\n                </p>\n              </div>\n              <Formik\n                initialValues={{\n                  firstName: '',\n                  lastName: '',\n                  email: '',\n                  password: ''\n                }}\n                onSubmit={values =>\n                  submitCredentials(values)\n                }\n                validationSchema={SignupSchema}\n              >\n                {() => (\n                  <Form className=\"mt-8\">\n                    {signupSuccess && (\n                      <FormSuccess text={signupSuccess} />\n                    )}\n                    {signupError && (\n                      <FormError text={signupError} />\n                    )}\n                    <input\n                      type=\"hidden\"\n                      name=\"remember\"\n                      value=\"true\"\n                    />\n                    <div>\n                      <div className=\"flex\">\n                        <div className=\"mb-2 mr-2 w-1/2\">\n                          <div className=\"mb-1\">\n                            <Label text=\"First Name\" />\n                          </div>\n                          <FormInput\n                            ariaLabel=\"First Name\"\n                            name=\"firstName\"\n                            type=\"text\"\n                            placeholder=\"First Name\"\n                          />\n                        </div>\n                        <div className=\"mb-2 ml-2 w-1/2\">\n                          <div className=\"mb-1\">\n                            <Label text=\"Last Name\" />\n                          </div>\n                          <FormInput\n                            ariaLabel=\"Last Name\"\n                            name=\"lastName\"\n                            type=\"text\"\n                            placeholder=\"Last Name\"\n                          />\n                        </div>\n                      </div>\n                      <div className=\"mb-2\">\n                        <div className=\"mb-1\">\n                          <Label text=\"Email address\" />\n                        </div>\n                        <FormInput\n                          ariaLabel=\"Email address\"\n                          name=\"email\"\n                          type=\"email\"\n                          placeholder=\"Email address\"\n                        />\n                      </div>\n                      <div>\n                        <div className=\"mb-1\">\n                          <Label text=\"Password\" />\n                        </div>\n                        <FormInput\n                          ariaLabel=\"Password\"\n                          name=\"password\"\n                          type=\"password\"\n                          placeholder=\"Password\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"mt-6\">\n                      <GradientButton\n                        type=\"submit\"\n                        text=\"Sign Up\"\n                        loading={loginLoading}\n                      />\n                    </div>\n                  </Form>\n                )}\n              </Formik>\n            </div>\n          </div>\n        </Card>\n      </section>\n    </>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}